#
namespace = human_fallen_empires_test

planet_event = {
	id = human_fallen_empires_test.1
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		every_country = {
			limit = {
				is_country_type = human_fallen_empires_pirate
			}
			change_country_flag = {
				colors = {
					dark_grey
					dark_grey
					null
					null
				}
			}
			randomize_flag_symbol = pirate
		}
	}
}

country_event = {
	id = human_fallen_empires_test.2
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		random_country = {
			limit = {
				is_country_type = human_fallen_empires_pirate
			}
			save_event_target_as = human_fallen_empires_pirate_country
		}
		set_country_flag = human_fallen_empires_pirate.101.deal_offer
		set_country_flag = human_fallen_empires_pirate.101.traid_menu
		country_event = {
			id = human_fallen_empires_pirate.101
		}
	}
}

country_event = {
	id = human_fallen_empires_test.3
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		random_list = {
			1 = {
				modifier = {
					factor = 0
					always = yes
					log = "1"
				}
			}
			1 = {
				modifier = {
					factor = 0
					always = yes
					log = "2"
				}
			}
		}
	}
}

country_event = {
	id = human_fallen_empires_test.5
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		random_owned_planet = {
			random_tile = {
				set_building = human_fallen_empires_building_thoth_module_food
			}
		}
	}
}

country_event = {
	id = human_fallen_empires_test.6
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		every_owned_ship = {
			limit = {
				exists = orbit
			}
			orbit.planet.spaceport = {
				log = "[Prev.GetName] [This.GetName] [Planet.GetName]"
			}
		}

		# every_owned_planet = {
		# 	limit = {
		# 	#	exists = orbit.spaceport
		# 	}
		# 	orbit.spaceport = {
		# 		log = "[Prev.GetName] [This.GetName] [Planet.GetName]"
		# 	}
		# 	spaceport = {
		# 		log = "[Prev.GetName] [This.GetName] [Planet.GetName]"
		# 	}
		# 	log = "true"
		# }
	}
}

country_event = {
	id = human_fallen_empires_test.7
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		give_technology = { message = no tech = tech_human_fallen_empires_features_exodus }
		give_technology = { message = no tech = tech_human_fallen_empires_brainworm_reservation_0 }
		#give_technology = { message = no tech = tech_human_fallen_empires_brainworm_reservation_1 }
	}
}

ship_event = {
	id = human_fallen_empires_test.8
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		is_ship_class = shipclass_colonizer
		exists = orbit.planet
	}

	immediate = {
		orbit.planet = {
			log = "[this.GetName] [root.species.GetName]"
			random_owned_pop = {
				limit = {
					is_exact_same_species = root.species
				}
				kill_pop = yes
			}
		}
	}
}

country_event = {
	id = human_fallen_empires_test.9
	title = human_fallen_emires_test_string_0
	desc = human_fallen_emires_test_string_1
	picture = GFX_evt_alien_city
	is_triggered_only = yes

	immediate = {
		set_name = human_fallen_emires_test_string_0
		capital_scope = {
			set_name = human_fallen_emires_test_string_1
			create_fleet = {
				name = human_fallen_emires_test_string_2
				effect = {
					set_owner = root
					create_ship = {
						name = "NAME_00110001"
						design = "NAME_Beta"
						graphical_culture = "fallen_empire_01"
					}
					set_location = prev
				}
			}
		}
	}

	option = {
		name = human_fallen_emires_test_string_2
	}
}
