#

# wormhole
human_fallen_empires_wormhole_category = {
	desc = human_fallen_empires_wormhole_category_desc
	picture = GFX_evt_human_fallen_empires_wormhole
	level = 1
	max_once_global = yes
	spawn_chance = {
		modifier = {
			add = 1
			human_fallen_empires_trigger_story_enabled = yes
			exists = from.owner
			from.owner = {
				# может потом переделать. чтобы был проход в туннель. если система есть. а джухеты мертвы
				any_country = {
					has_country_flag = human_fallen_empires_egypt
				}
				not = {
					any_relation = {
						has_country_flag = human_fallen_empires_egypt
					}
				}
			}
		}
	}
	on_spawn = {
		#log = "wormhole [this.GetName]"
		human_fallen_empires_effect_create_signal_object_for_planet = yes
	}
	on_success = human_fallen_empires.50
}

# criopods
human_fallen_empires_criopods_category = {
	desc = human_fallen_empires_criopods_category_desc
	# эта пикча тут ни к месту
	picture = GFX_evt_human_fallen_empires_criopods
	level = 3
	max_once_global = yes
	spawn_chance = {
		modifier = {
			add = 5
			human_fallen_empires_trigger_story_enabled = yes
			or = {
				is_planet_class = pc_continental
				is_planet_class = pc_tropical
				is_planet_class = pc_ocean
				is_planet_class = pc_gaia
			}
			exists = from.owner
			from.owner = {
				num_pops > 0
				or = {
					has_country_flag = human_fallen_empires_marked_as_human
					is_xenophobe = yes
					is_xenophile = yes
					is_authoritarian = yes
					is_egalitarian = yes
				}
			}
		}
		modifier = {
			factor = 2
			years_passed > 30
		}
		modifier = {
			factor = 2
			years_passed > 60
		}
		modifier = {
			factor = 2
			years_passed > 90
		}
	}
	on_spawn = {
		#log = "criopods"
		human_fallen_empires_effect_create_signal_object_for_planet = yes
	}
	on_success = human_fallen_empires.5050
}

# dead worms
human_fallen_empires_dead_worms_category = {
	desc = human_fallen_empires_dead_worms_category_desc
	picture = GFX_evt_human_fallen_empires_space_debris
	level = 2
	max_once_global = yes
	spawn_chance = {
		modifier = {
			add = 2
			human_fallen_empires_trigger_story_enabled = yes
			is_planet_class = pc_molten
		}
		modifier = {
			factor = 2
			years_passed > 30
		}
		modifier = {
			factor = 2
			years_passed > 60
		}
		modifier = {
			factor = 2
			years_passed > 90
		}
	}
	on_spawn = {
		#log = "dead worms"
		human_fallen_empires_effect_create_signal_object_for_planet = yes
	}
	on_success = human_fallen_empires.5055
}

# necrotic autoevolution
human_fallen_empires_necrotic_autoevolution_category = {
	desc = human_fallen_empires_necrotic_autoevolution_category_desc
	picture = GFX_evt_human_fallen_empires_ruins_robots
	level = 3
	max_once_global = yes
	spawn_chance = {
		modifier = {
			add = 2
			human_fallen_empires_trigger_story_enabled = yes
			is_planet_class = pc_barren
		}
		modifier = {
			factor = 2
			years_passed > 30
		}
		modifier = {
			factor = 2
			years_passed > 60
		}
		modifier = {
			factor = 2
			years_passed > 90
		}
	}
	on_spawn = {
		human_fallen_empires_effect_create_signal_object_for_planet = yes
		set_planet_entity = {
			entity = human_fallen_empires_entity_ai_purple
		}
	}
	on_success = human_fallen_empires.5060
}

# stargate
human_fallen_empires_anomaly_stargate = {
	desc = human_fallen_empires_anomaly_stargate_desc
	picture = GFX_evt_ship_in_orbit
	level = 3
	max_once_global = yes
	spawn_chance = {
		modifier = {
			add = 2
			human_fallen_empires_trigger_story_enabled = yes
			habitable_planet = yes
		}
		modifier = {
			factor = 0
			always = yes
		}
		modifier = {
			factor = 2
			years_passed > 30
		}
		modifier = {
			factor = 2
			years_passed > 60
		}
		modifier = {
			factor = 2
			years_passed > 90
		}
	}
	on_spawn = {
		human_fallen_empires_effect_create_signal_object_for_planet = yes
	}
	on_success = human_fallen_empires.510
}