#
# same class
human_fallen_empires_opinion_features_same_species_class = {
	trigger = {
		human_fallen_empires_trigger_features_opinion_enabled = yes
		is_same_species_class = from
		human_fallen_empires_trigger_is_undiplomatic = no
		from = {
			human_fallen_empires_trigger_is_undiplomatic = no
		}
		not = {
			is_same_species = from
		}
	}
	opinion = {
		base = 10
	}
}

# same species
human_fallen_empires_opinion_features_same_species = {
	trigger = {
		human_fallen_empires_trigger_features_opinion_enabled = yes
		is_same_species = from
	}
	opinion = {
		base = 10
		modifier = {
			factor = 2
			is_xenophobe = yes
			from = {
				is_xenophile = no
			}
		}
	}
}

# in war with same enemy
human_fallen_empires_opinion_features_same_enemy = {
	trigger = {
		human_fallen_empires_trigger_features_opinion_enabled = yes
		human_fallen_empires_trigger_is_undiplomatic = no
		from = {
			human_fallen_empires_trigger_is_undiplomatic = no
		}
		any_relation = {
			is_at_war_with = prev
			is_at_war_with = from
		}
	}
	opinion = {
		base = 10
		modifier = {
			add = 10
			is_militarist = yes
			from = {
				is_pacifist = no
			}
		}
	}
}

# save from slavery
human_fallen_empires_opinion_features_save_from_slavery = {
	trigger = {
		human_fallen_empires_trigger_features_opinion_enabled = yes
		is_egalitarian = yes
		human_fallen_empires_trigger_is_undiplomatic = no
		from = {
			human_fallen_empires_trigger_is_undiplomatic = no
			allows_slavery = no
			any_owned_pop = {
				has_modifier = pop_saved_from_slavery
			}
		}
	}
	opinion = {
		base = 10
	}
}

# hate our species
human_fallen_empires_opinion_features_hate_our_species = {
	trigger = {
		human_fallen_empires_trigger_features_opinion_enabled = yes
		is_country_type = default
		human_fallen_empires_trigger_is_undiplomatic = no
		from = {
			human_fallen_empires_trigger_is_hive = no
			human_fallen_empires_trigger_is_undiplomatic = no
		}
		human_fallen_empires_trigger_is_hive = no
		not = {
			is_same_species = from
		}
		species = {
			has_citizenship_type = {
				country = from
				type = citizenship_purge
			}
		}
	}
	opinion = {
		base = -50
	}
}

# traits
human_fallen_empires_opinion_features_warriror_honor = {
	trigger = {
		has_militarist_government = yes
		human_fallen_empires_trigger_is_undiplomatic = no
		from = {
			exists = ruler
			ruler = {
				has_trait = human_fallen_empires_ruler_trait_warriror_honor
			}
			human_fallen_empires_trigger_is_undiplomatic = no
		}
	}
	opinion = {
		base = 20
	}
}

human_fallen_empires_opinion_features_manipulative = {
	trigger = {
		is_country_type = default
		human_fallen_empires_trigger_is_undiplomatic = no
		from = {
			exists = ruler
			ruler = {
				has_trait = human_fallen_empires_ruler_trait_manipulative
			}
			not = {
				is_rival = prev
			}
			human_fallen_empires_trigger_is_undiplomatic = no
		}
	}
	opinion = {
		base = 10
	}
}

human_fallen_empires_opinion_features_manipulative_rival = {
	trigger = {
		is_country_type = default
		human_fallen_empires_trigger_is_undiplomatic = no
		from = {
			any_relation = {
				exists = ruler
				ruler = {
					has_trait = human_fallen_empires_ruler_trait_manipulative
				}
				is_rival = prev
				human_fallen_empires_trigger_is_undiplomatic = no
			}
		}
	}
	opinion = {
		base = -10
	}
}

human_fallen_empires_opinion_features_puppet = {
	trigger = {
		is_country_type = default
		human_fallen_empires_trigger_is_undiplomatic = no
		from = {
			exists = ruler
			ruler = {
				has_trait = human_fallen_empires_ruler_trait_puppet
			}
			human_fallen_empires_trigger_is_undiplomatic = no
		}
	}
	opinion = {
		base = -10
	}
}
