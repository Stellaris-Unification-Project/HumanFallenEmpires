#
@base_moon_distance = 11

human_fallen_empires_egypt = {
	flags = {
		human_fallen_empires_egypt_0
	}
	name = "Home of Light"
	class = "rl_standard_stars"
	asteroids_distance = 50

	planet = {
		count = 1
		class = "pc_g_star"
		orbit_distance = 0
		orbit_angle = 1
		size = {
			min = 20
			max = 30
		}
		has_ring = no
		name = "Ra"
	}

	change_orbit = 50

	planet = {
		count = {
			min = 1
			max = 3
		}
		class = random_asteroid
		orbit_distance = 0
		orbit_angle = {
			min = 40
			max = 100
		}
	}

	planet = {
		count = {
			min = 0
			max = 2
		}
		orbit_distance = 20
		class = random_non_colonizable
		orbit_angle = {
			min = 90
			max = 270
		}

		change_orbit = @base_moon_distance

		moon = {
			count = {
				min = 0
				max = 2
			}
			class = random_non_colonizable
			orbit_angle = {
				min = 90
				max = 270
			}
			orbit_distance = 5
		}
	}

	planet = {
		name = "Home of Light"
		orbit_distance = 20
		class = pc_nuked
		orbit_angle = {
			min = 90
			max = 270
		}
		size = 25
		tile_blockers = none

		init_effect = {
			create_cluster = {
				id = fe1_cluster
				radius = 100
				center = this.solar_system
			}
			create_country = {
				name = "Ju Ahet"
				type = human_fallen_empire
				name_list = "cybrxkhan_fantasy_egyptian"
				ship_prefix = ""
				ignore_initial_colony_error = yes
				species = event_target:human_fallen_empires_egypt_species
				flag = random
				ethos = {
					ethic = ethic_fanatic_spiritualist
				}
				authority = auth_imperial
				civics = {
					civic = human_fallen_empires_civic_egypt_genetic
					civic = random
				}
				effect = {
					set_country_flag = human_fallen_empires_egypt
					kill_leader = {
						type = ruler
						show_notification = no
					}
					create_leader = {
						name = Amonhirkhopshef
						species = event_target:human_fallen_empires_egypt_species
						type = ruler
						skill = 5
						leader_age_min = 250
						leader_age_max = 650
						traits = {
							trait = leader_trait_ruler_chosen
							trait = ruler_trait_transcendent
						}
					}
					assign_leader = last_created_leader
					while = {
						limit = {
							ruler = {
								gender = female
							}
						}
						kill_leader = {
							type = ruler
							show_notification = no
						}
						create_leader = {
							name = Amonhirkhopshef
							species = event_target:human_fallen_empires_egypt_species
							type = ruler
							skill = 5
							leader_age_min = 250
							leader_age_max = 650
							traits = {
								trait = leader_trait_ruler_chosen
								trait = ruler_trait_transcendent
							}
						}
						assign_leader = last_created_leader
					}
					every_owned_leader = {
						human_fallen_empires_effect_add_psionic_trait = yes
					}
					save_global_event_target_as = human_fallen_empires_egypt_country
				}
			}
			set_owner = last_created_country
			set_planet_flag = human_fallen_empires_home_of_light
			prevent_anomaly = yes
			set_capital = yes
			random_tile = {
				limit = {
					has_blocker = no
					has_blocker = no
				}
				clear_deposits = yes
				set_building = human_fallen_empires_building_thoth_temple
				create_pop = {
					species = owner
				}
			}
			random_tile = {
				limit = {
					has_building = no
					has_blocker = no
					num_adjacent_tiles > 3
				}
				set_building = building_capital_3
				create_pop = {
					species = owner
				}
				set_deposit = d_energy_deposit
			}
			while = {
				count = 6
				random_tile = {
					limit = {
						has_building = no
						has_blocker = no
					}
					set_building = building_dark_matter_power_plant
					set_deposit = d_energy_deposit
					create_pop = {
						species = owner
					}
				}
			}
			while = {
				count = 4
				random_tile = {
					limit = {
						has_building = no
						has_blocker = no
					}
					set_building = building_ancient_factory
					set_deposit = d_mineral_deposit
				}
			}
			random_tile = {
				limit = {
					has_building = no
					has_blocker = no
				}
				set_building = building_agri_processing_complex
				set_deposit = d_farmland_deposit
			}
			every_tile = {
				limit = {
					has_pop = no
					has_building = yes
				}
				create_pop = {
					species = event_target:human_fallen_empires_ahet_species
				}
				last_created_pop = {
					modify_species = {
						species = this
						add_trait = human_fallen_empires_species_trait_happy_slave
					}
				}
			}
			while = {
				count = 12
				create_army = {
					name = random
					owner = last_created_country
					species = owner
					type = gene_warrior_army
				}
			}
			human_fallen_empires_effect_init_set_starbase = yes
			human_fallen_empires_effect_create_egypt_fleet = yes
			human_fallen_empires_effect_create_egypt_fleet = yes
			human_fallen_empires_effect_create_egypt_fleet = yes
			if = {
				limit = {
					is_difficulty > 0
				}
				human_fallen_empires_effect_create_egypt_fleet = yes
			}
			if = {
				limit = {
					is_difficulty > 1
				}
				human_fallen_empires_effect_create_egypt_fleet = yes
			}
			if = {
				limit = {
					is_difficulty > 2
				}
				human_fallen_empires_effect_create_egypt_fleet = yes
			}
			last_created_country = {
				every_owned_ship = {
					repair_ship = yes
					add_modifier = {
						modifier = human_fallen_empires_unkeep_80
						days = -1
					}
				}
			}
		}

		change_orbit = @base_moon_distance

		moon = {
			name = "Thoth"
			class = "pc_barren"
			entity = "barren_planet_01_destroyed_entity"
			orbit_angle = {
				min = 90
				max = 270
			}
			orbit_distance = 5
			modifiers = none

			init_effect = {
				prevent_anomaly = yes
			}
		}
	}

	planet = {
		count = {
			min = 2
			max = 4
		}
		orbit_distance = 20
		class = random_non_colonizable
		orbit_angle = {
			min = 90
			max = 270
		}

		change_orbit = @base_moon_distance

		moon = {
			count = {
				min = 0
				max = 1
			}
			class = random_non_colonizable
			orbit_angle = {
				min = 90
				max = 270
			}
			orbit_distance = 5
		}
	}

	planet = {
		count = {
			min = 1
			max = 2
		}
		orbit_distance = 20
		class = pc_gas_giant
		orbit_angle = {
			min = 90
			max = 270
		}

		change_orbit = @base_moon_distance

		moon = {
			count = {
				min = 0
				max = 3
			}
			class = random_non_colonizable
			orbit_angle = {
				min = 90
				max = 270
			}
			orbit_distance = 5
		}
	}
}

human_fallen_empires_hope = {
	flags = {
		human_fallen_empires_egypt_1
	}
	class = "rl_standard_stars"
	asteroids_distance = 115

	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 1
		size = {
			min = 20
			max = 30
		}
		has_ring = no
	}

	change_orbit = 50

	planet = {
		name = "Hope"
		count = 1
		home_planet = yes
		class = pc_continental
		orbit_distance = 0
		orbit_angle = {
			min = 90
			max = 270
		}
		size = {
			min = 16
			max = 25
		}

		init_effect = {
			prevent_anomaly = yes
			set_owner = last_created_country
			random_tile = {
				limit = {
					has_building = no
					has_blocker = no
					num_adjacent_tiles > 3
				}
				set_building = "building_capital_2"
				create_pop = {
					species = owner
				}
				set_deposit = d_energy_deposit
			}
			random_tile = {
				limit = {
					has_building = no
					has_blocker = no
				}
				set_building = building_agri_processing_complex
				set_deposit = d_farmland_deposit
				create_pop = {
					species = event_target:human_fallen_empires_ahet_species
					ethos = owner
				}
			}
			random_tile = {
				limit = {
					has_building = no
					has_blocker = no
				}
				set_building = building_ancient_factory
				set_deposit = d_mineral_deposit
				create_pop = {
					species = event_target:human_fallen_empires_ahet_species
				}
			}
			random_tile = {
				limit = {
					has_building = no
					has_blocker = no
				}
				set_building = building_dark_matter_power_plant
				set_deposit = d_energy_deposit
			}
			while = {
				count = 3
				random_tile = {
					limit = {
						has_building = no
						has_blocker = no
					}
					set_building = building_power_plant_4
					set_deposit = d_energy_deposit
				}
			}
			while = {
				count = 3
				random_tile = {
					limit = {
						has_building = no
						has_blocker = no
					}
					set_building = building_mining_network_4
					set_deposit = d_mineral_deposit
				}
			}
			every_tile = {
				limit = {
					has_building = yes
					has_blocker = no
					has_pop = no
				}
				create_pop = {
					species = owner
				}
			}
			while = {
				count = 12
				create_army = {
					name = random
					owner = last_created_country
					species = owner
					type = defense_army
				}
			}
			human_fallen_empires_effect_init_set_starbase = yes
		}

		change_orbit = @base_moon_distance

		moon = {
			count = {
				min = 0
				max = 1
			}
			class = random_non_colonizable
			orbit_angle = {
				min = 90
				max = 270
			}
			orbit_distance = 5
		}
	}

	planet = {
		count = 2
		orbit_distance = 20
		class = random_non_colonizable
		orbit_angle = {
			min = 90
			max = 270
		}
		change_orbit = @base_moon_distance

		moon = {
			count = {
				min = 0
				max = 1
			}
			class = random_non_colonizable
			orbit_angle = {
				min = 90
				max = 270
			}
			orbit_distance = 5
		}
	}

	change_orbit = 25

	planet = {
		count = {
			min = 2
			max = 3
		}
		class = random_asteroid
		orbit_distance = 0
		orbit_angle = {
			min = 40
			max = 110
		}
	}

	planet = {
		count = {
			min = 2 max = 4
		}
		orbit_distance = 25
		class = random_non_colonizable
		orbit_angle = {
			min = 90
			max = 270
		}

		change_orbit = @base_moon_distance

		moon = {
			count = {
				min = 0
				max = 1
			}
			class = random_non_colonizable
			orbit_angle = {
				min = 90
				max = 270
			}
			orbit_distance = 5
		}
	}

	planet = {
		count = {
			min = 1 max = 2
		}
		orbit_distance = 20
		class = pc_gas_giant
		orbit_angle = {
			min = 90
			max = 270
		}

		change_orbit = @base_moon_distance

		moon = {
			count = {
				min = 0
				max = 3
			}
			class = random_non_colonizable
			orbit_angle = {
				min = 90
				max = 270
			}
			orbit_distance = 5
		}
	}

	planet = {
		count = {
			min = 0
			max = 2
		}
		orbit_distance = 20
		class = random_non_colonizable
		orbit_angle = {
			min = 90
			max = 270
		}
	}
}

human_fallen_empires_gift = {
	flags = {
		human_fallen_empires_egypt_2
	}
	class = "rl_standard_stars"
	asteroids_distance = 115

	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 1
		size = {
			min = 20
			max = 30
		}
		has_ring = no
	}

	change_orbit = 50

	planet = {
		name = "Gift"
		count = 1
		home_planet = yes
		class = pc_continental
		orbit_distance = 0
		orbit_angle = {
			min = 90
			max = 270
		}
		size = {
			min = 16
			max = 25
		}

		init_effect = {
			prevent_anomaly = yes
			set_owner = last_created_country
			random_tile = {
				limit = {
					has_building = no
					has_blocker = no
					num_adjacent_tiles > 3
				}
				set_building = building_capital_2
				create_pop = {
					species = owner
				}
				set_deposit = d_energy_deposit
			}
			random_tile = {
				limit = {
					has_building = no
					has_blocker = no
				}
				set_building = building_agri_processing_complex
				set_deposit = d_farmland_deposit
				create_pop = {
					species = event_target:human_fallen_empires_ahet_species
				}
			}
			random_tile = {
				limit = {
					has_building = no
					has_blocker = no
				}
				set_building = building_ancient_factory
				set_deposit = d_mineral_deposit
				create_pop = {
					species = event_target:human_fallen_empires_ahet_species
				}
			}
			random_tile = {
				limit = {
					has_building = no
					has_blocker = no
				}
				set_building = building_dark_matter_power_plant
				set_deposit = d_energy_deposit
			}
			while = {
				count = 3
				random_tile = {
					limit = {
						has_building = no
						has_blocker = no
					}
					set_building = building_power_plant_4
					set_deposit = d_energy_deposit
				}
			}
			while = {
				count = 3
				random_tile = {
					limit = {
						has_building = no
						has_blocker = no
					}
					set_building = building_mining_network_4
					set_deposit = d_mineral_deposit
				}
			}
			every_tile = {
				limit = {
					has_building = yes
					has_blocker = no
					has_pop = no
				}
				create_pop = {
					species = owner
				}
			}
			while = {
				count = 12
				create_army = {
					name = random
					owner = owner
					species = owner
					type = defense_army
				}
			}
			human_fallen_empires_effect_init_set_starbase = yes
		}

		change_orbit = @base_moon_distance

		moon = {
			count = {
				min = 0
				max = 1
			}
			class = random_non_colonizable
			orbit_angle = {
				min = 90
				max = 270
			}
			orbit_distance = 5
		}
	}

	planet = {
		count = 2
		orbit_distance = 20
		class = random_non_colonizable
		orbit_angle = {
			min = 90
			max = 270
		}
		change_orbit = @base_moon_distance

		moon = {
			count = {
				min = 0
				max = 1
			}
			class = random_non_colonizable
			orbit_angle = {
				min = 90
				max = 270
			}
			orbit_distance = 5
		}
	}

	change_orbit = 25

	planet = {
		count = {
			min = 2
			max = 3
		}
		class = random_asteroid
		orbit_distance = 0
		orbit_angle = {
			min = 40
			max = 110
		}
	}

	planet = {
		count = {
			min = 2
			max = 4
		}
		orbit_distance = 25
		class = random_non_colonizable
		orbit_angle = {
			min = 90
			max = 270
		}

		change_orbit = @base_moon_distance

		moon = {
			count = {
				min = 0
				max = 1
			}
			class = random_non_colonizable
			orbit_angle = {
				min = 90
				max = 270
			}
			orbit_distance = 5
		}
	}

	planet = {
		count = {
			min = 1
			max = 2
		}
		orbit_distance = 20
		class = pc_gas_giant
		orbit_angle = {
			min = 90
			max = 270
		}

		change_orbit = @base_moon_distance

		moon = {
			count = {
				min = 0
				max = 3
			}
			class = random_non_colonizable
			orbit_angle = {
				min = 90
				max = 270
			}
			orbit_distance = 5
		}
	}

	planet = {
		count = {
			min = 0
			max = 2
		}
		orbit_distance = 20
		class = random_non_colonizable
		orbit_angle = {
			min = 90
			max = 270
		}
	}
}

# ahet
human_fallen_empires_ahet = {
	class = rl_standard_stars
	flags = {
		primitive_system
	}

	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 1
		size = {
			min = 20
			max = 30
		}
		has_ring = no
	}

	change_orbit = 20

	planet = {
		orbit_distance = 20
		count = {
			min = 0
			max = 3
		}
	}

	change_orbit = 20

	planet = {
		count = 1
		orbit_distance = 0
		class = pc_tropical
		orbit_angle = {
			min = 90
			max = 270
		}
		size = {
			min = 15
			max = 25
		}
		init_effect = {
			prevent_anomaly = yes
			set_planet_flag = human_fallen_empires_ahet_colony_0
			create_country = {
				name = "Ahet Community"
				type = primitive
				ethos = random
				authority = random
				civics = {
					civic = human_fallen_empires_civic_primitive_was_default
					civic = human_fallen_empires_civic_primitive_fem_rept_lobby
				}
				species = event_target:human_fallen_empires_ahet_species
				flag = random
				effect = {
					human_fallen_empires_effect_primitive_set_late_medieval_age = yes
					set_country_flag = human_fallen_empires_ahet_primitive_0
				}
			}
			create_colony = {
				owner = last_created_country
				species = owner
			}
			random_tile = {
				limit = {
					has_building = building_colony_shelter
				}
				remove_building = yes
			}
			while = {
				count = 2
				random_tile = {
					limit = {
						has_blocker = no
						has_building = no
					}
					set_building = building_primitive_factory
					set_deposit = d_mineral_deposit
				}
			}
			random_tile = {
				limit = {
					has_building = no
					has_blocker = no
				}
				set_building = building_mining_network_2
				set_deposit = d_mineral_deposit
			}
			while = {
				count = 2
				random_tile = {
					limit = {
						has_blocker = no
						has_building = no
					}
					set_building = building_primitive_farm
					set_deposit = d_farmland_deposit
				}
			}
			every_tile = {
				limit = {
					has_building = yes
					has_blocker = no
					has_pop = no
				}
				create_pop = {
					species = event_target:human_fallen_empires_ahet_species
				}
			}
			create_army = {
				name = "National Army of Pluan Zialeo"
				owner = owner
				species = owner
				type = industrial_army
			}
			create_army = {
				name = "1st Army of Nalvati Rokhever"
				owner = owner
				species = owner
				type = industrial_army
			}
			create_army = {
				name = "Holy Army of Holy Land"
				owner = owner
				species = owner
				type = primitive_army
			}
			create_army = {
				name = "Divine Valis of Archer"
				owner = owner
				species = owner
				type = primitive_army
			}
			create_army = {
				name = "Royal Army of Hadland"
				owner = owner
				species = owner
				type = primitive_army
			}
			create_army = {
				name = "Rebel Army of Pluan Zialeo"
				owner = owner
				species = owner
				type = primitive_army
			}
		}

		change_orbit = @base_moon_distance

		moon = {
			count = {
				min = 0
				max = 1
			}
			orbit_angle = {
				min = 90
				max = 270
			}
			orbit_distance = 5
		}
	}

	planet = {
		orbit_distance = 20
		count = {
			min = 1
			max = 4
		}

		change_orbit = @base_moon_distance

		moon = {
			count = {
				min = 0
				max = 1
			}
			orbit_angle = {
				min = 90
				max = 270
			}
			orbit_distance = 5
		}
	}

	planet = {
		orbit_distance = 20
		count = {
			min = 0
			max = 2
		}
	}
}

human_fallen_empires_ahet_2 = {
	class = "rl_standard_stars"
	flags = {
		primitive_system
	}

	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 1
		size = {
			min = 20
			max = 30
		}
		has_ring = no
	}

	change_orbit = 20

	planet = {
		orbit_distance = 20
		count = {
			min = 0
			max = 3
		}
	}

	change_orbit = 20

	planet = {
		count = 1
		orbit_distance = 0
		class = pc_ocean
		orbit_angle = {
			min = 90
			max = 270
		}
		size = {
			min = 15
			max = 25
		}
		init_effect = {
			prevent_anomaly = yes
			set_planet_flag = human_fallen_empires_ahet_colony_1
			create_species = {
				name = random
				class = random_non_machine
				portrait = random
				traits = {
					trait = random_traits
				}
				homeworld = this
			}
			create_country = {
				name = "Eternal Foundation"
				type = primitive
				ethos = {
					ethic = ethic_fanatic_xenophile
					ethic = ethic_pacifist
				}
				authority = random
				civics = {
					civic = human_fallen_empires_civic_primitive_degraded_tech
					civic = human_fallen_empires_civic_primitive_was_default
				}
				species = last_created_species
				flag = random
				effect = {
					human_fallen_empires_effect_primitive_set_industrial_age = yes
					set_country_flag = human_fallen_empires_ahet_primitive_1
				}
			}
			create_colony = {
				owner = last_created_country
				species = owner
			}
			random_tile = {
				limit = {
					has_building = "building_colony_shelter"
				}
				remove_building = yes
			}
			while = {
				count = 2
				random_tile = {
					limit = {
						has_blocker = no
						has_building = no
					}
					set_building = building_primitive_factory
					set_deposit = d_mineral_deposit
				}
			}
			while = {
				count = 3
				random_tile = {
					limit = {
						has_blocker = no
						has_building = no
					}
					set_building = building_primitive_farm
					set_deposit = d_farmland_deposit
				}
			}
			every_tile = {
				limit = {
					has_building = yes
					has_blocker = no
					has_pop = no
				}
				random_list = {
					50 = {
						create_pop = {
							species = event_target:human_fallen_empires_ahet_species
						}
					}
					50 = {
						create_pop = {
							species = last_created_species
						}
					}
				}
			}
			while = {
				count = 3
				create_army = {
					name = "Industrial Army"
					owner = owner
					species = owner
					type = industrial_army
				}
			}
			while = {
				count = 3
				create_army = {
					name = "Industrial Army"
					owner = owner
					species = event_target:human_fallen_empires_ahet_species
					type = industrial_army
				}
			}
		}

		change_orbit = @base_moon_distance

		moon = {
			count = {
				min = 0
				max = 1
			}
			orbit_angle = {
				min = 90
				max = 270
			}
			orbit_distance = 5
		}
	}

	planet = {
		orbit_distance = 20
		count = {
			min = 1
			max = 4
		}

		change_orbit = @base_moon_distance

		moon = {
			count = {
				min = 0
				max = 1
			}
			orbit_angle = {
				min = 90
				max = 270
			}
			orbit_distance = 5
		}
	}

	planet = {
		orbit_distance = 20
		count = {
			min = 0
			max = 2
		}
	}
}

# varelse
human_fallen_empires_varelse = {
	class = rl_standard_stars

	flags = {
		primitive_system
	}

	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 1
		size = {
			min = 20
			max = 30
		}
		has_ring = no
	}

	change_orbit = 20

	planet = {
		orbit_distance = 20
		count = {
			min = 0
			max = 3
		}
	}

	change_orbit = 20

	planet = {
		name = "Colony Beta"
		count = 1
		orbit_distance = 0
		class = pc_desert
		orbit_angle = {
			min = 90
			max = 270
		}
		size = {
			min = 15
			max = 25
		}
		tile_blockers = none
		init_effect = {
			create_country = {
				name = "Colony Beta"
				type = primitive
				ignore_initial_colony_error = yes
				species = event_target:human_fallen_empires_varelse_species
				ethos = {
					ethic = ethic_militarist
					ethic = ethic_xenophobe
					ethic = ethic_spiritualist
				}
				authority = random
				civics = {
					civic = human_fallen_empires_civic_primitive_was_fallen
					civic = human_fallen_empires_civic_primitive_degraded_society
				}
				flag = random
				effect = {
					human_fallen_empires_effect_primitive_set_machine_age = yes
					set_country_flag = human_fallen_empires_varelse_primitive_0
				}
			}
			set_owner = last_created_country
			set_planet_flag = human_fallen_empires_varelse_colony
			add_modifier = {
				modifier = human_fallen_empires_varelse
				days = -1
			}
			random_tile = {
				limit = {
					has_building = no
					has_blocker = no
				}
				set_building = building_ancient_factory
				set_deposit = d_mineral_deposit
			}
			while = {
				count = 3
				random_tile = {
					limit = {
						has_blocker = no
						has_building = no
					}
					set_building = building_primitive_factory
					set_deposit = d_mineral_deposit
				}
			}
			while = {
				count = 2
				random_tile = {
					limit = {
						has_blocker = no
						has_building = no
					}
					set_building = building_primitive_farm
					set_deposit = d_farmland_deposit
				}
			}
			every_tile = {
				limit = {
					has_building = yes
					has_blocker = no
					has_pop = no
				}
				create_pop = {
					species = event_target:human_fallen_empires_varelse_species
				}
			}
			while = {
				count = 2
				random_tile = {
					limit = {
						has_blocker = no
						has_building = no
					}
					set_blocker = tb_radioactive_wasteland
				}
			}
			random_tile = {
				limit = {
					has_blocker = no
					has_building = no
				}
				set_blocker = tb_bomb_crater
			}
			while = {
				count = 2
				random_tile = {
					limit = {
						has_blocker = no
						has_building = no
					}
					set_blocker = tb_city_ruins
				}
			}
			while = {
				count = 2
				random_tile = {
					limit = {
						has_blocker = no
						has_building = no
					}
					set_blocker = tb_failing_infrastructure
				}
			}
			random_tile = {
				limit = {
					has_blocker = no has_building = no
				}
				set_blocker = tb_decrepit_dwellings
			}
			while = {
				count = 8
				create_army = {
					name = "Divine Industrial Army"
					owner = owner
					species = event_target:human_fallen_empires_varelse_species
					type = industrial_army
				}
			}
		}

		change_orbit = @base_moon_distance

		moon = {
			count = {
				min = 0 max = 1
			}
			orbit_angle = {
				min = 90 max = 270
			}
			orbit_distance = 5
		}
	}

	planet = {
		orbit_distance = 20
		count = {
			min = 1 max = 4
		}

		change_orbit = @base_moon_distance

		moon = {
			count = {
				min = 0 max = 1
			}
			orbit_angle = {
				min = 90 max = 270
			}
			orbit_distance = 5
		}
	}

	planet = {
		orbit_distance = 20
		count = {
			min = 0 max = 2
		}
	}

}

# memorial
human_fallen_empires_memorial_01 = {
	class = "rl_standard_stars"
	flags = {
		human_fallen_empires_memorial_system
	}

	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 1
		size = {
			min = 20 max = 30
		}
		has_ring = no
	}

	change_orbit = 45

	planet = {
		name = "Arrakis"
		count = 1
		orbit_distance = 30
		class = pc_human_fallen_empires_memorial
		orbit_angle = {
			min = 90 max = 270
		}
		size = {
			min = 20 max = 25
		}
		tile_blockers = none

		init_effect = {
			every_tile = {
				random_list = {
					40 = {
					}
					8 = {
						set_blocker = tb_radioactive_wasteland
					}
					8 = {
						set_blocker = tb_city_ruins
					}
					8 = {
						set_blocker = tb_bomb_crater
					}
					1 = {
						set_building = building_dark_matter_power_plant
					}
					1 = {
						set_building = building_agri_processing_complex
					}
					1 = {
						set_building = building_ancient_factory
					}
					1 = {
						set_deposit = d_mineral_deposit
					}
					1 = {
						set_deposit = d_energy_deposit
					}
					1 = {
						set_deposit = d_physics_deposit
					}
					1 = {
						set_deposit = d_society_deposit
					}
					1 = {
						set_deposit = d_engineering_deposit
					}
				}
			}
		}
	}

	planet = {
		count = {
			min = 2 max = 10
		}
		orbit_distance = 20
		orbit_angle = {
			min = 90 max = 270
		}

		change_orbit = @base_moon_distance

		moon = {
			count = {
				min = 0 max = 1
			}
			orbit_angle = {
				min = 90 max = 270
			}
			orbit_distance = 5
		}
	}
}

human_fallen_empires_memorial_02 = {
	class = "rl_standard_stars"
	asteroids_distance = 95
	flags = {
		human_fallen_empires_memorial_system
	}

	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 1
		size = {
			min = 20 max = 30
		}
		has_ring = no
	}

	change_orbit = 30

	planet = {
		count = 2
		orbit_distance = 20
		orbit_angle = {
			min = 90 max = 270
		}
	}

	change_orbit = 25

	planet = {
		count = {
			min = 1 max = 4
		}
		class = random_asteroid
		orbit_distance = 0
		orbit_angle = {
			min = 90 max = 270
		}
	}

	planet = {
		name = "Caladan"
		count = 1
		orbit_distance = 25
		class = pc_human_fallen_empires_memorial
		orbit_angle = {
			min = 90 max = 270
		}
		size = {
			min = 20 max = 25
		}
		tile_blockers = none
		init_effect = {
			every_tile = {
				random_list = {
					40 = {
					}
					8 = {
						set_blocker = tb_radioactive_wasteland
					}
					8 = {
						set_blocker = tb_city_ruins
					}
					8 = {
						set_blocker = tb_bomb_crater
					}
					1 = {
						set_building = building_dark_matter_power_plant
					}
					1 = {
						set_building = building_agri_processing_complex
					}
					1 = {
						set_building = building_ancient_factory
					}
					1 = {
						set_deposit = d_mineral_deposit
					}
					1 = {
						set_deposit = d_energy_deposit
					}
					1 = {
						set_deposit = d_physics_deposit
					}
					1 = {
						set_deposit = d_society_deposit
					}
					1 = {
						set_deposit = d_engineering_deposit
					}
				}
			}
		}
	}

	planet = {
		count = {
			min = 2 max = 5
		}
		orbit_distance = 30
		orbit_angle = {
			min = 90 max = 270
		}

		change_orbit = @base_moon_distance

		moon = {
			count = {
				min = 0 max = 1
			}
			orbit_angle = {
				min = 90 max = 270
			}
			orbit_distance = 5
		}
	}
}

human_fallen_empires_memorial_03 = {
	class = "rl_standard_stars"
	flags = {
		human_fallen_empires_memorial_system
	}

	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 1
		size = {
			min = 20 max = 30
		}
		has_ring = no
	}

	change_orbit = 45

	planet = {
		name = "Giedi Prime"
		count = 1
		orbit_distance = 10
		class = pc_human_fallen_empires_memorial
		orbit_angle = {
			min = 90 max = 270
		}
		size = {
			min = 20 max = 25
		}
		tile_blockers = none

		init_effect = {
			every_tile = {
				random_list = {
					40 = {
					}
					8 = {
						set_blocker = tb_radioactive_wasteland
					}
					8 = {
						set_blocker = tb_city_ruins
					}
					8 = {
						set_blocker = tb_bomb_crater
					}
					1 = {
						set_building = building_dark_matter_power_plant
					}
					1 = {
						set_building = building_agri_processing_complex
					}
					1 = {
						set_building = building_ancient_factory
					}
					1 = {
						set_deposit = d_mineral_deposit
					}
					1 = {
						set_deposit = d_energy_deposit
					}
					1 = {
						set_deposit = d_physics_deposit
					}
					1 = {
						set_deposit = d_society_deposit
					}
					1 = {
						set_deposit = d_engineering_deposit
					}
				}
			}
		}
	}

	planet = {
		count = {
			min = 1 max = 2
		}
		orbit_distance = 60
		class = pc_gas_giant
		orbit_angle = {
			min = 90 max = 270
		}
		size = 25

		change_orbit = @base_moon_distance

		moon = {
			count = {
				min = 1 max = 4
			}
			size = {
				min = 8 max = 20
			}
			orbit_angle = {
				min = 90 max = 270
			}
			orbit_distance = 6
		}
	}

	change_orbit = 20

	planet = {
		count = {
			min = 0 max = 2
		}
		orbit_distance = 20
		orbit_angle = {
			min = 90 max = 270
		}
	}
}

human_fallen_empires_memorial_04 = {
	class = "rl_standard_stars"
	asteroids_distance = 120
	flags = {
		human_fallen_empires_memorial_system
	}

	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 1
		size = {
			min = 20 max = 30
		}
		has_ring = no
	}

	change_orbit = 120

	planet = {
		name = "Kaitain"
		count = 1
		orbit_distance = 10
		class = pc_human_fallen_empires_memorial
		orbit_angle = {
			min = 90 max = 270
		}
		size = {
			min = 20 max = 25
		}
		tile_blockers = none
		init_effect = {
			every_tile = {
				random_list = {
					40 = {
					}
					8 = {
						set_blocker = tb_radioactive_wasteland
					}
					8 = {
						set_blocker = tb_city_ruins
					}
					8 = {
						set_blocker = tb_bomb_crater
					}
					1 = {
						set_building = building_dark_matter_power_plant
					}
					1 = {
						set_building = building_agri_processing_complex
					}
					1 = {
						set_building = building_ancient_factory
					}
					1 = {
						set_deposit = d_mineral_deposit
					}
					1 = {
						set_deposit = d_energy_deposit
					}
					1 = {
						set_deposit = d_physics_deposit
					}
					1 = {
						set_deposit = d_society_deposit
					}
					1 = {
						set_deposit = d_engineering_deposit
					}
				}
			}
		}
	}

	change_orbit = -80

	planet = {
		count = {
			min = 0 max = 2
		}
		orbit_distance = 20
		orbit_angle = {
			min = 90 max = 270
		}
	}

	change_orbit = 80

	planet = {
		count = {
			min = 0 max = 2
		}
		orbit_distance = 40
		orbit_angle = {
			min = 90 max = 270
		}
	}
}

# ahet home
human_fallen_empires_ahet_home = {
	class = "rl_standard_stars"
	flags = {
		human_fallen_empires_ahet_home
	}
	name = "Barsoom"
	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 1
		size = {
			min = 20
			max = 30
		}
		has_ring = no
	}

	change_orbit = 20

	planet = {
		orbit_distance = 20
		count = {
			min = 0
			max = 3
		}
	}

	change_orbit = 20

	planet = {
		count = 1
		orbit_distance = 10
		class = pc_gas_giant
		entity = gaia_planet_01_entity
		orbit_angle = {
			min = 90
			max = 270
		}
		size = {
			min = 20
			max = 25
		}
		init_effect = {
			set_planet_flag = human_fallen_empires_ahet_home
		}

		moon = {
			count = 1
			class = pc_black_hole
			size = 1
			orbit_angle = {
				min = 0
				max = 90
			}
			orbit_distance = 10
		}
	}

	planet = {
		orbit_distance = 20
		count = {
			min = 1
			max = 4
		}

		change_orbit = @base_moon_distance

		moon = {
			count = {
				min = 0
				max = 2
			}
			orbit_angle = {
				min = 90
				max = 270
			}
			orbit_distance = 5
		}
	}

	planet = {
		orbit_distance = 20
		count = {
			min = 0
			max = 2
		}
	}
}

# too ideal planet
human_fallen_empires_copernicus = {
	#	class = "rl_standard_stars"
	flags = {
		human_fallen_empires_copernicus
	}
	name = Copernicus
	planet = {
		count = 1
		orbit_distance = 1
		class = pc_gaia
		orbit_angle = random
		size = {
			min = 20
			max = 25
		}
		modifiers = none
		init_effect = {
			set_planet_flag = human_fallen_empires_copernicus.0
			create_species = {
				name = random
				class = random_non_machine
				portrait = random
				homeworld = THIS
				traits = {
					trait = random_traits
				}
			}
			create_country = {
				name = random
				authority = random
				civics = {
					civic = civic_secret_of_fire
					civic = civic_the_wheel
				}
				species = last_created
				ethos = random
				flag = random
				type = primitive
				effect = {
					human_fallen_empires_effect_primitive_set_stone_age = yes
				}
			}
			create_colony = {
				owner = last_created_country
				species = owner
			}
			random_tile = {
				limit = {
					has_building = building_colony_shelter
				}
				remove_building = yes
			}
		}
		moon = {
			class = pc_g_star
			orbit_distance = 10
			orbit_angle = random
			size = 3
			init_effect = {
				set_planet_flag = human_fallen_empires_copernicus.2
			}
		}
	}

	planet = {
		count = 1
		init_effect = {
			set_planet_flag = human_fallen_empires_copernicus.1
		}
		class = random_asteroid
		orbit_distance = 200
		orbit_angle = random
	}
}

# discovery
human_fallen_empires_discovery_system = {
	class = "rl_standard_stars"
	asteroids_distance = 100

	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 1
		size = {
			min = 10
			max = 30
		}
		has_ring = yes
	}

	change_orbit = 100

	planet = {
		count = {
			min = 1
			max = 6
		}
		class = random_asteroid
		orbit_distance = 0
		orbit_angle = random
	}

	change_orbit = 20

	planet = {
		count = 1
		orbit_distance = 10
		class = pc_nuked
		orbit_angle = random
		size = {
			min = 15
			max = 20
		}
		starting_planet = yes
		modifiers = none
		init_effect = {
			set_planet_flag = human_fallen_empires_discovery_planet
		}
	}

	planet = {
		orbit_distance = 20
		count = {
			min = 1
			max = 2
		}
		change_orbit = @base_moon_distance

		moon = {
			count = {
				min = 1
				max = 4
			}
			orbit_angle = {
				min = 90
				max = 270
			}
			orbit_distance = 5
		}
	}

	planet = {
		count = {
			min = 1
			max = 2
		}
		class = random_non_colonizable
		orbit_distance = 20
		orbit_angle = random
	}
}

# drone
human_fallen_empires_drone_sector_0 = {
	flags = {
		human_fallen_empires_drone_0
	}
	class = "rl_standard_stars"
	name = "Drone Sector 0"
	asteroids_distance = 100

	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 1
		size = {
			min = 10
			max = 20
		}
	}

	change_orbit = 100

	planet = {
		count = 3
		class = random_asteroid
		orbit_distance = 0
		orbit_angle = random
	}

	change_orbit = 20

	planet = {
		count = 1
		orbit_distance = 101
		class = pc_ai
		name = "Drone Core 01"
		orbit_angle = random
		size = {
			min = 5
			max = 10
		}
		modifiers = none

		init_effect = {
			set_planet_flag = human_fallen_empires_drone_planet_1
			# every_tile = {
			# 	set_blocker = tb_mountain_range
			# }
			create_country = {
				name = "Harvesting Branch 42"
				name_list = AI
				type = human_fallen_empires_drone
				ethos = {
					ethic = ethic_gestalt_consciousness
				}
				authority = auth_machine_intelligence
				flag = {
					icon = {
						category = "zoological"
						file = "flag_zoological_1.dds"
					}
					background = {
						category = "backgrounds"
						file = "00_solid.dds"
					}
					colors = {
						"black"
						"black"
						"null"
						"null"
					}
				}
				effect = {
					save_global_event_target_as = human_fallen_empires_drone_country
					set_graphical_culture = ancient_drone_01
					add_modifier = {
						modifier = human_fallen_empires_drone_country_unkeep
						days = -1
					}
					add_minerals = 5000
					add_energy = 5000
					give_technology = {
						message = no
						tech = tech_human_fallen_empires_drone_ships
					}
					give_technology = {
						message = no
						tech = tech_mining_drone_weapon_1
					}
					# create_ship_design = {
						# design = "Drone Harvester"
					# }
					# add_ship_design = last_created_design
					# create_ship_design = {
						# design = "Drone Protector"
					# }
					# add_ship_design = last_created_design
					# create_ship_design = {
						# design = "Drone Destroyer"
					# }
					# add_ship_design = last_created_design
					# add_ship_design = "Drone Harvester"
					# add_ship_design = "Drone Protector"
					# add_ship_design = "Drone Destroyer"
					every_country = {
						limit = {
							or = {
								is_country_type = enclave
								is_country_type = primitive
								is_guardian_country = yes
							}
						}
						set_faction_hostility = {
							target = prev
							set_hostile = no
							set_neutral = yes
							set_friendly = no
						}
					}
				}
			}
			set_owner = event_target:human_fallen_empires_drone_country
			human_fallen_empires_effect_create_starbase_citadel_from_planet = yes
			build_pop = {
				name = buildable_robot_pop_3
			}
		}
	}

	planet = {
		orbit_distance = 20
		count = {
			min = 1
			max = 3
		}
		change_orbit = @base_moon_distance

		moon = {
			count = {
				min = 1
				max = 2
			}
			orbit_angle = {
				min = 90
				max = 270
			}
			orbit_distance = 5
		}
	}

	planet = {
		count = {
			min = 1
			max = 2
		}
		class = random_non_colonizable
		orbit_distance = 20
		orbit_angle = random
	}

	init_effect = {
		every_system_planet = {
			limit = {
				is_asteroid = yes
			}
			orbital_deposit_tile = {
				clear_deposits = yes
				add_deposit = d_immense_mineral_deposit
			}
		}
		every_system_planet = {
			surveyed = {
				set_surveyed = yes
				surveyor = event_target:human_fallen_empires_drone_country
			}
		}
		every_neighbor_system = {
			every_neighbor_system = {
				every_system_planet = {
					surveyed = {
						set_surveyed = yes
						surveyor = event_target:human_fallen_empires_drone_country
					}
				}
			}
		}
	}
}

human_fallen_empires_drone_sector_1 = {
	flags = {
		human_fallen_empires_drone_1
	}
	class = "rl_standard_stars"
	name = "Drone Sector 1"
	asteroids_distance = 60

	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 1
		size = {
			min = 10
			max = 20
		}
	}

	change_orbit = 60

	planet = {
		count = 3
		class = random_asteroid
		orbit_distance = 0
		orbit_angle = random
	}

	planet = {
		count = 1
		orbit_distance = 10
		class = pc_ai
		name = "Drone Core 02"
		orbit_angle = random
		size = {
			min = 5
			max = 10
		}
		modifiers = none

		init_effect = {
			# every_tile = {
			# 	set_blocker = tb_mountain_range
			# }
			set_planet_flag = human_fallen_empires_drone_planet_2
			set_owner = event_target:human_fallen_empires_drone_country
			human_fallen_empires_effect_create_starbase_citadel_from_planet = yes
			build_pop = {
				name = buildable_robot_pop_3
			}
		}
	}

	planet = {
		orbit_distance = 20
		count = 1
		change_orbit = @base_moon_distance

		moon = {
			count = {
				min = 1
				max = 5
			}
			orbit_angle = {
				min = 90
				max = 270
			}
			orbit_distance = 5
		}
	}

	planet = {
		count = {
			min = 1
			max = 2
		}
		class = random_non_colonizable
		orbit_distance = 20
		orbit_angle = random
	}

	init_effect = {
		every_system_planet = {
			limit = {
				is_asteroid = yes
			}
			orbital_deposit_tile = {
				clear_deposits = yes
				add_deposit = d_immense_mineral_deposit
			}
		}
		every_system_planet = {
			surveyed = {
				set_surveyed = yes
				surveyor = event_target:human_fallen_empires_drone_country
			}
		}
	}
}

human_fallen_empires_drone_sector_10 = {
	flags = {
		human_fallen_empires_drone_2
	}
	class = "rl_standard_stars"
	name = "Drone Sector 10"
	asteroids_distance = 40

	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 1
		size = {
			min = 20
			max = 30
		}
	}

	change_orbit = 40

	planet = {
		count = 3
		class = random_asteroid
		orbit_distance = 0
		orbit_angle = random
	}

	planet = {
		count = 1
		orbit_distance = 10
		class = pc_ai
		name = "Drone Core 03"
		orbit_angle = random
		size = {
			min = 5
			max = 10
		}
		modifiers = none

		init_effect = {
			# every_tile = {
			# 	set_blocker = tb_mountain_range
			# }
			set_planet_flag = human_fallen_empires_drone_planet_3
			set_owner = event_target:human_fallen_empires_drone_country
			human_fallen_empires_effect_create_starbase_citadel_from_planet = yes
			build_pop = {
				name = buildable_robot_pop_3
			}
		}
	}

	planet = {
		orbit_distance = 20
		count = 3
		change_orbit = @base_moon_distance

		moon = {
			count = {
				min = 1
				max = 2
			}
			orbit_angle = {
				min = 90
				max = 270
			}
			orbit_distance = 5
		}
	}

	planet = {
		count = {
			min = 1
			max = 3
		}
		class = random_non_colonizable
		orbit_distance = 30
		orbit_angle = random
	}

	init_effect = {
		every_system_planet = {
			limit = {
				is_asteroid = yes
			}
			orbital_deposit_tile = {
				clear_deposits = yes
				add_deposit = d_immense_mineral_deposit
			}
		}
		every_system_planet = {
			surveyed = {
				set_surveyed = yes
				surveyor = event_target:human_fallen_empires_drone_country
			}
		}
	}
}

# future
human_fallen_empires_future = {
	name = Tartarus
	class = "rl_standard_stars"
	asteroids_distance = 70

	planet = {
		name = Tartarus
		count = 1
		class = "pc_b_star"
		orbit_distance = 0
		orbit_angle = 1
		size = {
			min = 20
			max = 30
		}
		has_ring = no
	}

	planet = {
		name = Typhon
		count = 1
		class = star
		orbit_distance = 50
		orbit_angle = {
			min = 90
			max = 270
		}
		size = {
			min = 10
			max = 17
		}
		has_ring = no
	}

	change_orbit = 50

	planet = {
		count = {
			min = 1
			max = 3
		}
		class = random_asteroid
		orbit_distance = 0
		orbit_angle = {
			min = 40
			max = 100
		}
	}

	planet = {
		name = "Tellus"
		class = "pc_gas_giant"
		orbit_distance = 60
		orbit_angle = 200
		size = 40
		has_ring = yes

		change_orbit = @base_moon_distance

		moon = {
			name = "Terra Nova"
			class = pc_gaia
			size = 25
			orbit_distance = 5
			orbit_angle = 20
			tile_blockers = none
			modifiers = none

			init_effect = {
				create_cluster = {
					id = fe1_cluster
					radius = 100
					center = this.solar_system
				}
				create_country = {
					name = "Kad Republic"
					type = human_fallen_empire
					name_list = Human
					ship_prefix = "USS"
					ignore_initial_colony_error = yes
					ethos = {
						ethic = ethic_fanatic_pacifist
						ethic = ethic_xenophile
					}
					authority = auth_democratic
					civics = random
					species = event_target:human_fallen_empires_future_species
					flag = random
					effect = {
						set_country_flag = human_fallen_empires_future
						set_country_flag = human_fallen_empires_coalition_leader
						set_country_flag = human_fallen_empires_brainworm_discovered
						save_global_event_target_as = human_fallen_empires_future_country
						save_global_event_target_as = human_fallen_empires_coalition_leader
					}
				}
				prevent_anomaly = yes
				set_owner = last_created_country
				set_capital = yes
				random_tile = {
					limit = {
						has_building = no
						has_blocker = no
						num_adjacent_tiles > 3
					}
					set_building = building_capital_3
					set_deposit = d_energy_deposit
				}
				while = {
					count = 2
					random_tile = {
						limit = {
							has_building = no
							has_blocker = no
						}
						set_building = building_agri_processing_complex
						set_deposit = d_farmland_deposit
					}
				}
				every_tile = {
					limit = {
						has_building = no
						has_blocker = no
					}
					random_list = {
						30 = {
							set_building = building_ancient_factory
							set_deposit = d_mineral_deposit
						}
						30 = {
							set_building = building_dark_matter_power_plant
							set_deposit = d_energy_deposit
						}
						40 = {
						}
					}
				}
				every_tile = {
					limit = {
						has_building = yes
						has_blocker = no
					}
					create_pop = {
						species = owner
					}
				}
				while = {
					count = 12
					create_army = {
						name = random
						owner = owner
						species = owner
						type = gene_warrior_army
					}
				}
				human_fallen_empires_effect_init_set_starbase = yes
				human_fallen_empires_effect_create_future_fleet = yes
				human_fallen_empires_effect_create_future_fleet = yes
				human_fallen_empires_effect_create_future_fleet = yes
				if = {
					limit = {
						is_difficulty > 0
					}
					human_fallen_empires_effect_create_future_fleet = yes
				}
				if = {
					limit = {
						is_difficulty > 1
					}
					human_fallen_empires_effect_create_future_fleet = yes
				}
				if = {
					limit = {
						is_difficulty > 2
					}
					human_fallen_empires_effect_create_future_fleet = yes
				}
				last_created_country = {
					every_owned_ship = {
						repair_ship = yes
						add_modifier = {
							modifier = human_fallen_empires_unkeep_80
							days = -1
						}
					}
				}
			}
		}

		moon = {
			name = "Nova Futurum"
			class = pc_gaia
			size = 10
			orbit_distance = 8
			orbit_angle = 10
			tile_blockers = none
			modifiers = none

			init_effect = {
				prevent_anomaly = yes
				set_owner = last_created_country
				random_tile = {
					limit = {
						has_building = no
						has_blocker = no
						num_adjacent_tiles > 3
					}
					set_building = building_capital_2
					set_deposit = d_energy_deposit
				}
				while = {
					count = 2
					random_tile = {
						limit = {
							has_building = no
							has_blocker = no
						}
						set_building = building_agri_processing_complex
						set_deposit = d_farmland_deposit
					}
				}
				every_tile = {
					limit = {
						has_building = no
						has_blocker = no
					}
					random_list = {
						30 = {
							set_building = building_ancient_factory
							set_deposit = d_mineral_deposit
						}
						30 = {
							set_building = building_dark_matter_power_plant
							set_deposit = d_energy_deposit
						}
						40 = {
						}
					}
				}
				every_tile = {
					limit = {
						has_building = yes
						has_blocker = no
					}
					create_pop = {
						species = owner
					}
				}
				while = {
					count = 12
					create_army = {
						name = random
						owner = owner
						species = owner
						type = defense_army
					}
				}
				human_fallen_empires_effect_init_set_starbase = yes
			}
		}
	}
}
