#

# for country
human_fallen_empires_trigger_is_clever_for_event = {
	or = {
		human_fallen_empires_trigger_is_clever = yes
		is_materialist = yes
	}
}

human_fallen_empires_trigger_is_authoritarian = {
	or = {
		is_authoritarian = yes
		human_fallen_empires_trigger_is_hive = yes
	}
}

human_fallen_empires_trigger_is_hive = {
	or = {
		has_ethic = ethic_gestalt_consciousness
		has_authority = auth_hive_mind
		has_authority = auth_machine_intelligence
	}
}

human_fallen_empires_trigger_is_human_fallen = {
	or = {
		has_country_flag = human_fallen_empires_egypt
		has_country_flag = human_fallen_empires_future
	}
}

human_fallen_empires_trigger_is_regular_fallen = {
	or = {
		is_country_type = fallen_empire
		is_country_type = awakened_fallen_empire
	}
}

human_fallen_empires_trigger_is_fallen = {
	or = {
		human_fallen_empires_trigger_is_regular_fallen = yes
		human_fallen_empires_trigger_is_human_fallen = yes
	}
}

human_fallen_empires_trigger_is_awake = {
	nor = {
		is_country_type = human_fallen_empire
		is_country_type = fallen_empire
		is_country_type = primitive
	}
}

human_fallen_empires_trigger_is_undiplomatic = {
	is_homicidal = yes
}

human_fallen_empires_trigger_is_assimilator = {
	human_fallen_empires_trigger_is_undiplomatic = no
	or = {
		has_valid_civic = civic_machine_assimilator
		human_fallen_empires_trigger_brainworm_country = yes
		and = {
			has_authority = auth_hive_mind
			has_ascension_perk = ap_evolutionary_mastery
		}
	}
}

# for planet, mod's primitives
human_fallen_empires_trigger_primitive_planet = {
	or = {
		has_planet_flag = human_fallen_empires_ahet_colony_0
		has_planet_flag = human_fallen_empires_ahet_colony_1
		has_planet_flag = human_fallen_empires_varelse_colony
		has_planet_flag = human_fallen_empires_too_ideal_planet
	}
}

human_fallen_empires_trigger_planet_valid_for_settle = {
	is_under_colonization = no
	is_controlled_by = owner
	has_orbital_bombardment = no
	free_pop_tiles > 0
	not = {
		has_planet_flag = human_fallen_empires_settle_pop_block
	}
}

human_fallen_empires_trigger_is_psionic = {
	or = {
		has_trait = trait_latent_psionic
		has_trait = trait_psionic
	}
}

human_fallen_empires_trigger_is_psionic_species = {
	exists = species
	species = {
		human_fallen_empires_trigger_is_psionic = yes
	}
}

# for any
human_fallen_empires_trigger_exists_all_event_targets = {
	exists = event_target:human_fallen_empires_event_target_0
	exists = event_target:human_fallen_empires_event_target_1
	exists = event_target:human_fallen_empires_event_target_2
	exists = event_target:human_fallen_empires_event_target_3
	exists = event_target:human_fallen_empires_event_target_4
	exists = event_target:human_fallen_empires_event_target_5
}

# for any
human_fallen_empires_trigger_exists_any_event_target = {
	or = {
		exists = event_target:human_fallen_empires_event_target_0
		exists = event_target:human_fallen_empires_event_target_1
		exists = event_target:human_fallen_empires_event_target_2
		exists = event_target:human_fallen_empires_event_target_3
		exists = event_target:human_fallen_empires_event_target_4
		exists = event_target:human_fallen_empires_event_target_5
	}
}

human_fallen_empires_trigger_has_starbase_t0 = {
	exists = starbase
	starbase = {
		has_starbase_size >= starbase_outpost
	}
}

human_fallen_empires_trigger_has_starbase_t1 = {
	exists = starbase
	starbase = {
		has_starbase_size >= starbase_starport
	}
}

human_fallen_empires_trigger_has_starbase_t2 = {
	exists = starbase
	starbase = {
		has_starbase_size >= starbase_starhold
	}
}

human_fallen_empires_trigger_has_starbase_t3 = {
	exists = starbase
	starbase = {
		has_starbase_size >= starbase_starfortress
	}
}

human_fallen_empires_trigger_has_starbase_t4 = {
	exists = starbase
	starbase = {
		has_starbase_size >= starbase_citadel
	}
}

human_fallen_empires_trigger_story_enabled = {
	not = {
		has_global_flag = human_fallen_empires_story_disable
	}
}

human_fallen_empires_trigger_fast_start_enabled = {
	has_global_flag = human_fallen_empires_init_fast_start
}

human_fallen_empires_trigger_leaders_enabled = {
	not = {
		has_global_flag = human_fallen_empires_leaders_disable
	}
}

human_fallen_empires_trigger_leaders_recrutment_enabled = {
	has_global_flag = human_fallen_empires_leaders_recrutment
}

human_fallen_empires_trigger_leaders_traits_enabled = {
	not = {
		has_global_flag = human_fallen_empires_leaders_traits_disable
	}
}

human_fallen_empires_trigger_features_opinion_enabled = {
	not = {
		has_global_flag = human_fallen_empires_features_opinion_disable
	}
}

# for pop
human_fallen_empires_trigger_building_assimilator = {
	is_growing = no
	human_fallen_empires_trigger_is_robot = no
	or = {
		owner = {
			is_ai = no
		}
		nor = {
			is_same_species = owner
			is_same_species = event_target:human_fallen_empires_varelse_species
			is_same_species = event_target:human_fallen_empires_ahet_species
		}
	}
}

human_fallen_empires_trigger_building_assimilator_with_tile = {
	exists = tile
	tile = {
		has_building = human_fallen_empires_building_assimilator
		is_ruined = no
	}
	human_fallen_empires_trigger_building_assimilator = yes
}

human_fallen_empires_trigger_system_in_free_space = {
	is_fe_cluster = no
	not = {
		any_system = {
			distance = {
				source = prev
				min_jumps = 0
				max_jumps = 10
				type = hyperlane
				#uses_bypass = no # выдает ошибку в логе
			}
			exists = owner
		}
	}
}

human_fallen_empires_trigger_is_thrifty = {
	or = {
		has_trait = trait_thrifty
		has_trait = trait_robotic_3
		has_trait = trait_presapient_earthbound
		has_trait = human_fallen_empires_species_trait_hucksters
	}
}

human_fallen_empires_trigger_is_industrious = {
	or = {
		human_fallen_empires_trigger_is_robot = yes
		has_trait = trait_industrious
		has_trait = trait_very_strong
		has_trait = trait_presapient_proles
		has_trait = trait_nerve_stapled
	}
}

human_fallen_empires_trigger_is_agrarian = {
	or = {
		has_trait = trait_agrarian
		has_trait = trait_presapient_proles
		has_trait = trait_delicious
		has_trait = trait_nerve_stapled
	}
}

human_fallen_empires_trigger_is_clever = {
	or = {
		has_trait = trait_intelligent
		has_trait = trait_natural_engineers
		has_trait = trait_natural_physicists
		has_trait = trait_natural_sociologists
		has_trait = trait_robotic_3
		has_trait = trait_presapient_natural_intellectuals
		has_trait = trait_erudite
		has_trait = human_fallen_empires_species_trait_clever_beast
	}
}

human_fallen_empires_trigger_is_robot = {
	or = {
		has_trait = trait_mechanical
		has_trait = trait_machine_unit
	}
}

human_fallen_empires_trigger_non_sapient = {
	or = {
		human_fallen_empires_trigger_non_sapient_robot = yes
		has_trait = trait_hive_mind
	}
}

human_fallen_empires_trigger_non_sapient_robot = {
	or = {
		has_trait = trait_robotic_1
		has_trait = trait_robotic_2
		has_trait = trait_machine_unit
	}
}

