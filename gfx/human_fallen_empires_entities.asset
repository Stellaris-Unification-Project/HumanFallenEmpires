#

entity = {
	name = human_fallen_empires_features_spiral_of_death_falling_moon_entity_0

	locator = {
		name = root
		position = { 0 -155 0 }
		rotation = { 0 0 0 }
	}
}

entity = {
	name = human_fallen_empires_features_spiral_of_death_falling_moon_entity_1
	pdxmesh = "planet_non_clouded_mesh"

	# planet surface texture override
	meshsettings = {
		name = "planet_geosphereShape"
		texture_diffuse = "cold_barren_04_diffuse.dds"
		texture_normal = "cold_barren_04_normal.dds"
		texture_specular = "cold_barren_04_specular.dds"
		shader = "PdxMeshShip"
	}
	# pole texture override
	meshsettings = {
		name = "polesShape"
		texture_diffuse = "luna_poles_barren_2_diffuse.dds"
		texture_normal = "luna_poles_barren_2_normal.dds"
		texture_specular = "cold_barren_04_specular.dds"
		shader = "PdxMeshShip"
	}
	default_state = "idle"
	playback_rate = 1.0 # Animation speed 0 - The Moon is tidally locked to Earth
	state = { name = "idle" animation = "idle" time_offset = { 15 0 } animation_speed = 0
		start_event = { trigger_once = yes sound = { soundeffect = "amb_planet_class" } }
		start_event = { trigger_once = yes sound = { soundeffect = "amb_planet_class_02" } }
	}
	scale = 1.1
}

entity = {
	name = human_fallen_empires_entity_circle
	default_state = idle
	locator = {
		name = root
		rotation = { 0 90 0 }
	}
	state = {
		name = idle
		start_event = {
			node = root
			particle = human_fallen_empires_pdxparticle_circle
			trigger_once = yes
			keep_particle = yes
		}
	}
}

particle = {
	name = "human_fallen_empires_particle_circle"
	subsystem = {
		name = "flare"
		max_amount = 1
		slave_particles = 0
		sort = "depth"
		emitter_type = "point"
		invert = no
		trail = no
		local_space = yes
		billboard = no
		hide = no
		texture = {
			file = "gfx/particles/human_fallen_empires_halo.dds"
			x = 1
			y = 1
			shader = "ParticleAdditive"
		}
		color = {
			x = 0.000
			y = 255.000
			z = 0.000
			alpha = 15.000
		}
		position = {
			x = 0.000
			y = 0.000
			z = 0.000
		}
		start = 0.000
		duration = -1
		emitter_yaw = { 0.000 0.000 }
		emitter_pitch = { 0.000 0.000 }
		velocity_pitch = { 0.000 0.000 }
		velocity_yaw = { 0.000 0.000 }
		velocity = { 0.000 0.000 }
		life = { 0.000 0.000 }
		emission = 200.000
		size = 20.1
		particle_yaw = { 0.000 0.000 }
		particle_pitch = { 0.000 0.000 }
		rotation = { 0.000 0.000 }
		rotation_speed = { 0.000 0.000 }
	}
}

# почему то приводит к крашу, потом бы разобраться что не так
# entity = {
	# name = human_fallen_empires_entity_explosion
	# locator = {
		# name = root
	# }
	# default_state = idle
	# state = {
		# name = idle
		# start_event = {
			# #node = "root"
			# particle = human_fallen_empires_pdxparticle_explosion
			# trigger_once = yes
			# keep_particle = yes
			# sound = {
				# soundeffect = amb_super_explosion
			# }
		# }
	# }
# }

# particle = {
	# name=human_fallen_empires_particle_explosion
	# subsystem = {
		# name="fire_cloud"
		# max_amount=20
		# slave_particles=0
		# emitter_type="point"
		# invert=no
		# trail=no
		# local_space=yes
		# billboard=yes
		# hide=no
		# texture = {
			# file="gfx/particles/cloud_4.dds"
			# x=1
			# y=1
			# shader="ParticleAdditive"
		# }
		# color = {
			# x=255.000,R
			# y=255.000,G
			# z=255.000,B
			# alpha=20.000,smoke_fade
		# }
		# position = {
		# }
		# start=0.000
		# duration = 10
		# velocity_pitch = { 0.000 180.000 }
		# velocity_yaw = { 0.000 180.000 }
		# life = { 0.500 0.300 }
		# emission=1500.000
		# size = { 20.000,smoke_grow 10.000 }
		# rotation = { 0.000 180.000 }
		# rotation_speed=10.000
	# }
	# subsystem = {
		# name="fire_texture"
		# max_amount=10
		# slave_particles=0
		# emitter_type="point"
		# invert=no
		# trail=no
		# local_space=yes
		# billboard=yes
		# hide=no
		# texture = {
			# file="gfx/particles/fire_08.dds"
			# x=2
			# y=2
			# shader="ParticleAdditive"
		# }
		# color = {
			# x=255.000
			# y=255.000
			# z=255.000
			# alpha=50.000,fire_fade
		# }
		# position = {
		# }
		# duration = 10
		# velocity_pitch = { 0.000 180.000 }
		# velocity_yaw = { 0.000 180.000 }
		# velocity = { 15.000 10.000 }
		# life = { 0.300 0.100 }
		# emission=1500.000
		# size = { 25.000,grow 5.000 }
		# rotation = { 0.000 180.000 }
		# rotation_speed=30.000
	# }
	# subsystem = {
		# name="shockwave_spikes"
		# max_amount=10
		# slave_particles=0
		# emitter_type="point"
		# invert=no
		# trail=no
		# local_space=yes
		# billboard=yes
		# hide=no
		# texture = {
			# file="gfx/particles/blast.dds"
			# x=1
			# y=1
			# shader="ParticleAdditive"
		# }
		# color = {
			# x=255.000
			# y=150.000
			# z=120.000
			# alpha=25.000,fire_fade
		# }
		# position = {
		# }
		# duration = 10
		# velocity_pitch = { 0.000 180.000 }
		# velocity_yaw = { 0.000 180.000 }
		# velocity = { 0.000 0.000 }
		# life = { 0.350 0.100 }
		# emission=1500.000
		# size = { 60.000,grow 4.000 }
		# rotation = { 0.000 180.000 }
	# }
	# subsystem = {
		# name="sparks"
		# max_amount=15
		# slave_particles=0
		# emitter_type="point"
		# invert=no
		# trail=no
		# local_space=yes
		# billboard=yes
		# hide=no
		# texture = {
			# file="gfx/particles/star_zoom.dds"
			# x=1
			# y=1
			# shader="ParticleAdditive"
		# }
		# color = {
			# x=255.000
			# y=200.000
			# z=180.000
			# alpha=255.000,fire_fade
		# }
		# position = {
		# }
		# duration = 10
		# life = { 0.500 0.400 }
		# emission=1500.000
		# size = { 35.000,grow 15.000 }
		# rotation = { 0.000 180.000 }
	# }
	# subsystem = {
		# name="sparks_size_decrease"
		# max_amount=10
		# slave_particles=0
		# emitter_type="point"
		# invert=no
		# trail=no
		# local_space=yes
		# billboard=yes
		# hide=no
		# texture = {
			# file="gfx/particles/fire03_des.dds"
			# x=1
			# y=1
			# shader="ParticleAdditive"
		# }
		# color = {
			# x=255.000
			# y=175.000
			# z=100.000
			# alpha=200.000
		# }
		# position = {
		# }
		# duration = 10
		# velocity_pitch = { 0.000 180.000 }
		# velocity_yaw = { 0.000 180.000 }
		# velocity = { 35.000 10.000 }
		# life = { 0.500 0.100 }
		# emission=1500.000
		# size = { 8.000,spark_size 1.000 }
		# rotation = { 0.000 180.000 }
		# rotation_speed=30.000
	# }
	# subsystem = {
		# name="shockwave"
		# max_amount=1
		# slave_particles=0
		# emitter_type="point"
		# invert=no
		# trail=no
		# local_space=yes
		# billboard=yes
		# hide=no
		# texture = {
			# file="gfx/particles/halo_thin.dds"
			# x=1
			# y=1
			# shader="ParticleAdditive"
		# }
		# color = {
			# x=200.000
			# y=200.000
			# z=170.000
			# alpha=150.000,fire_fade
		# }
		# position = {
		# }
		# duration = 10
		# velocity_pitch = { 0.000 180.000 }
		# velocity_yaw = { 0.000 180.000 }
		# velocity = { 0.000 0.000 }
		# life = { 0.350 0.100 }
		# emission=1500.000
		# size = { 50.000,shockwave_grow 4.000 }
		# rotation = { 0.000 180.000 }
		# rotation_speed=30.000
	# }
	# subsystem = {
		# name="after_smoke"
		# max_amount=20
		# slave_particles=0
		# emitter_type="point"
		# invert=no
		# trail=no
		# local_space=yes
		# billboard=yes
		# hide=no
		# texture = {
			# file="gfx/particles/cloud.dds"
			# x=1
			# y=1
			# shader="ParticleAlphaBlend"
		# }
		# color = {
			# x=50.000
			# y=50.000
			# z=50.000
			# alpha=100.000,fire_fade
		# }
		# position = {
		# }
		# duration = 10
		# velocity_pitch = { 0.000 180.000 }
		# velocity_yaw = { 0.000 180.000 }
		# velocity = { 35.000 10.000 }
		# life = { 1.000 1.000 }
		# emission=1500.000
		# size = { 15.000,grow 5.000 }
		# rotation = { 0.000 180.000 }
		# rotation_speed=10.000
		# force=drag
	# }
	# subsystem = {
		# name="bloom_flare"
		# max_amount=20
		# slave_particles=0
		# emitter_type="point"
		# invert=no
		# trail=no
		# local_space=yes
		# billboard=yes
		# hide=no
		# texture = {
			# file="gfx/particles/flare_wide.dds"
			# x=1
			# y=1
			# shader="ParticleAdditive"
		# }
		# color = {
			# x=255.000
			# y=180.000
			# z=100.000
			# alpha=50.000,alpha_fade
		# }
		# position = {
		# }
		# duration = 10
		# velocity_pitch = { 0.000 180.000 }
		# velocity_yaw = { 0.000 180.000 }
		# velocity = { 0.000 0.000 }
		# life = { 0.300 0.100 }
		# emission=1500.000
		# size = { 45.000,grow 10.000 }
		# rotation = { 0.000 180.000 }
	# }
	# subsystem = {
		# name="bloom_flare_BIG"
		# max_amount=1
		# slave_particles=0
		# emitter_type="point"
		# invert=no
		# trail=no
		# local_space=yes
		# billboard=yes
		# hide=no
		# texture = {
			# file="gfx/particles/glow.dds"
			# x=1
			# y=1
			# shader="ParticleAdditive"
		# }
		# color = {
			# x=255.000
			# y=180.000
			# z=110.000
			# alpha=20.000,alpha_fade
		# }
		# position = {
		# }
		# duration = 10
		# velocity_pitch = { 0.000 180.000 }
		# velocity_yaw = { 0.000 180.000 }
		# velocity = { 0.000 0.000 }
		# life=0.500
		# emission=1500.000
		# size = { 80.000 10.000 }
		# rotation=0.000
	# }
	# animation = {
		# name="fire_fade"
		# start=0.000
		# duration=1.000
		# repeat=no
		# minValue=0.000
		# maxValue=1.000
		# curve = {
			# 0.000 0.000 0.226 0.828 0.524 0.867 0.635 0.398 0.794 0.141 1.000 0.000
		# }
		# op="MUL"
		# time="life"
	# }
	# animation = {
		# name="smoke_fade"
		# start=0.000
		# duration=1.000
		# repeat=no
		# minValue=0.000
		# maxValue=1.000
		# curve = {
			# 0.000 1.000 0.700 0.828 1.000 0.000
		# }
		# op="MUL"
		# time="life"
	# }
	# animation = {
		# name="spark_size"
		# start=0.000
		# duration=1.000
		# repeat=no
		# minValue=0.000
		# maxValue=1.000
		# curve = {
			# 0.000 1.000 0.068 0.422 0.194 0.203 0.476 0.070 1.000 0.016
		# }
		# op="MUL"
		# time="life"
	# }
	# animation = {
		# name="shockwave_grow"
		# start=0.000
		# duration=1.000
		# repeat=no
		# minValue=0.000
		# maxValue=1.000
		# curve = {
			# 0.000 0.000 1.000 1.000
		# }
		# op="MUL"
		# time="life"
	# }
	# animation = {
		# name="R"
		# start=0.000
		# duration=1.000
		# repeat=no
		# minValue=0.000
		# maxValue=1.000
		# curve = {
			# 0.000 1.000 0.394 1.000 0.838 0.500 1.000 0.000
		# }
		# op="MUL"
		# time="life"
	# }
	# animation = {
		# name="G"
		# start=0.000
		# duration=1.000
		# repeat=no
		# minValue=0.000
		# maxValue=1.000
		# curve = {
			# 0.000 0.586 0.488 0.578 1.000 0.000
		# }
		# op="MUL"
		# time="life"
	# }
	# animation = {
		# name="B"
		# start=0.000
		# duration=1.000
		# repeat=no
		# minValue=0.000
		# maxValue=1.000
		# curve = {
			# 0.000 0.883 0.371 0.813 0.641 0.242 1.000 0.000
		# }
		# op="MUL"
		# time="life"
	# }
	# animation = {
		# name="smoke_grow"
		# start=0.000
		# duration=1.000
		# repeat=no
		# minValue=0.000
		# maxValue=1.000
		# curve = {
			# 0.000 0.117 1.000 1.000
		# }
		# op="MUL"
		# time="life"
	# }
	# animation = {
		# name="grow"
		# start=0.000
		# duration=1.000
		# repeat=no
		# minValue=0.000
		# maxValue=1.000
		# curve = {
			# 0.000 0.008 1.000 1.000
		# }
		# op="MUL"
		# time="life"
	# }
	# animation = {
		# name="alpha_fade"
		# start=0.000
		# duration=1.000
		# repeat=no
		# minValue=0.000
		# maxValue=1.000
		# curve = {
			# 0.000 0.031 0.526 1.000 1.000 0.000
		# }
		# op="MUL"
		# time="life"
	# }
	# force = {
		# type="friction"
		# name="drag"
		# position = {
			# 0.000 0.000 0.000
		# }
		# direction = {
			# 0.000 0.000 0.000
		# }
		# local_force=yes
		# yaw=0.000
		# division=16
		# amount=10.000
	# }
# }

entity = {
	name = human_fallen_empires_entity_signal
	default_state = idle
	locator = {
		name = root
		rotation = { 0 90 0 }
	}
	state = {
		name = idle
		start_event = {
			node = root
			particle = human_fallen_empires_pdxparticle_signal
			trigger_once = yes
			keep_particle = yes
		}
	}
}

# мб эффект в виде спирали?
particle = {
	name = "human_fallen_empires_particle_signal"
	subsystem = {
		name = "flare"
		max_amount = 2
		slave_particles = 0
		sort = "depth"
		emitter_type = "point"
		invert = no
		trail = no
		local_space = yes
		billboard = no
		hide = no
		texture = {
			file = "gfx/particles/halo.dds"
			x = 1
			y = 1
			shader = "ParticleAdditive"
		}
		color = {
			x = 100.000
			y = 180.000
			z = 255.000
			alpha = 255.000,alpha_fade
		}
		position = {
			x = 0.000
			y = 0.000
			z = 0.000
		}
		start = 0.000
		duration = -1
		emitter_yaw = { 0.000 0.000 }
		emitter_pitch = { 0.000 0.000 }
		velocity_pitch = { 0.000 0.000 }
		velocity_yaw = { 0.000 0.000 }
		velocity = { 0.000 0.000 }
		life = { 1.400 0.200 }
		emission = 200.000
		size = { 320.000,grow 30.000 }
		particle_yaw = { 0.000 0.000 }
		particle_pitch = { 0.000 10.000 }
		rotation = { 0.000 0.000 }
		rotation_speed = { 0.000 0.000 }
	}
	animation = {
		name = "alpha_fade"
		start = 0.000
		duration = 1.000
		repeat = no
		minValue = 0.000
		maxValue = 1.000
		curve = {
			0.000 1.000 0.235 0.906 0.394 0.578 0.541 0.148 1.000 0.000
		}
		op = "MUL"
		time = "life"
	}
	animation = {
		name = "grow"
		start = 0.000
		duration = 1.000
		repeat = no
		minValue = 0.000
		maxValue = 1.000
		curve = {
			0.000 0.055 1.000 1.000
		}
		op = "MUL"
		time = "life"
	}
}
